{"ast":null,"code":"export default {\n  name: 'slider',\n  props: {\n    // Количество слайдов на странице\n    items: {\n      type: Number,\n      default: 3\n    },\n    // Отступы\n    margin: {\n      type: Number,\n      default: 20\n    },\n    // Навигация\n    nav: {\n      type: Boolean,\n      default: false\n    },\n    // Точечная навигация\n    dots: {\n      type: Boolean,\n      default: false\n    },\n    // Перемотка\n    loop: {\n      type: Boolean,\n      default: false\n    },\n    // Кнопка назад\n    prevNav: {\n      type: String,\n      default: ''\n    },\n    // Кнопка веред\n    nextNav: {\n      type: String,\n      default: ''\n    },\n    // Скорость перелистывания (мс)\n    speed: {\n      type: Number,\n      default: 300\n    },\n    // Анимация перехода (linear, ease-in, ease-out, ease-in-out)\n    timing: {\n      type: String,\n      default: 'ease'\n    },\n    // Количество смещаемых слайдов\n    offset: {\n      type: Number,\n      default: 1\n    },\n    // Переключение слайдов соседними блоками\n    sibling: {\n      type: Boolean,\n      default: false\n    },\n    // Адаптивность\n    responsive: {\n      type: Object,\n      default: {}\n    }\n  },\n  data() {\n    return {\n      el: {\n        track: null,\n        slides: null\n      },\n      width: {\n        document: 0,\n        container: 0,\n        slide: 0,\n        track: 0\n      },\n      // Первый слайд\n      itemActive: 0,\n      // Общее количество реальных слайдов\n      numItemReal: 0,\n      // Общее количество слайдов с клонами\n      numItemAll: 0,\n      // Список медиа запросов\n      breakpoints: [],\n      // Количество\n      numDot: 0,\n      // Активный дот\n      numDotActive: 0,\n      // Сдвиг по оси Y\n      transform: 0,\n      // Свойства слайдера\n      settings: {\n        items: this.items,\n        margin: this.margin,\n        nav: this.nav,\n        dots: this.dots,\n        loop: this.loop,\n        prevNav: this.prevNav,\n        nextNav: this.nextNav,\n        speed: this.speed,\n        timing: this.timing,\n        offset: this.offset,\n        responsive: this.responsive\n      },\n      // Флаг назатия мыши\n      mouseDown: false,\n      // Дистанция для свайпа\n      swipeDistance: 50,\n      // Дистанция перемещения курсора\n      dragDistance: 0\n    };\n  },\n  mounted() {\n    this.$nextTick(function () {\n      // Объект контейнера\n      this.el.list = this.$refs.list;\n      // Объект трека\n      this.el.track = this.$refs.track;\n\n      // Объекты слайдов\n      this.el.slides = this.el.track.children;\n      // Вычисление количества слайдов\n      this.numItemReal = this.el.slides.length;\n      // Присваиваем класс слайдам\n      for (let i = 0; i < this.numItemReal; ++i) {\n        this.el.slides[i].classList.add('v_slider__item');\n      }\n      // Добавляем клоны\n      if (this.settings.loop) {\n        let lastSlide = this.el.track.getElementsByClassName('v_slider__item');\n        for (let i = 0; i < this.numItemReal; ++i) {\n          let clone = lastSlide[i].cloneNode(true);\n          clone.classList.add('cloned');\n          this.el.track.insertBefore(clone, this.el.slides[this.numItemReal - 1 + i].nextSibling);\n        }\n        for (let i = this.numItemReal; i > 0; --i) {\n          let clone = lastSlide[this.numItemReal - 1].cloneNode(true);\n          clone.classList.add('cloned');\n          this.el.track.insertBefore(clone, this.el.slides[0]);\n        }\n      }\n      // Вычисляем общее количество слайдов\n      if (this.settings.loop) {\n        this.numItemAll = this.numItemReal * 3;\n      } else {\n        this.numItemAll = this.numItemReal;\n      }\n      // Обновление при изменении экрана\n      window.addEventListener('resize', this.getWidthDocument);\n      // Вешаем обработчиски событий на действия мыши\n      if ('ontouchstart' in window) {\n        this.el.track.addEventListener('touchstart', this.handleMouseDown);\n        this.el.track.addEventListener('touchend', this.handleMouseUp);\n        this.el.track.addEventListener('touchmove', this.handleMouseMove);\n      } else {\n        this.el.track.addEventListener('mousedown', this.handleMouseDown);\n        this.el.track.addEventListener('mouseup', this.handleMouseUp);\n        this.el.track.addEventListener('mousemove', this.handleMouseMove);\n      }\n      // Вычисляем ширину окна\n      this.getWidthDocument();\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.getWidthDocument);\n    if ('ontouchstart' in window) {\n      this.el.track.removeEventListener('touchstart', this.handleMouseDown);\n      this.el.track.removeEventListener('touchend', this.handleMouseUp);\n      this.el.track.removeEventListener('touchmove', this.handleMouseMove);\n    } else {\n      this.el.track.removeEventListener('mousedown', this.handleMouseDown);\n      this.el.track.removeEventListener('mouseup', this.handleMouseUp);\n      this.el.track.removeEventListener('mousemove', this.handleMouseMove);\n    }\n  },\n  methods: {\n    // Размер окна браузера\n    getWidthDocument() {\n      this.width.document = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    },\n    // Размеры слйдов и трека\n    getWidth() {\n      this.width.container = this.el.list.clientWidth;\n      if (this.settings.items == 1) {\n        this.width.slide = this.width.container;\n        this.width.track = this.width.container * this.numItemAll;\n      } else {\n        this.width.slide = this.width.container / this.settings.items - (this.settings.items - 1) * this.settings.margin / this.settings.items, this.width.track = (this.width.container + this.settings.margin) * this.numItemAll;\n      }\n    },\n    reload() {\n      // вычисляем брейкпоинты\n      if (this.responsive) {\n        this.breakpoints = Object.keys(this.responsive);\n      }\n      // Устанавливаем свойства при отзывчивости\n      if (this.breakpoints) {\n        this.breakpoints.forEach(width => {\n          if (width <= this.width.document) {\n            for (let key in this.responsive[width]) {\n              this.settings[key] = this.responsive[width][key];\n            }\n          }\n        });\n      }\n      // Вычисляем размеры\n      this.getWidth();\n      // Вычисляем отступы\n      if (this.settings.items == 1) {\n        this.settings.margin = 0;\n      } else {\n        this.settings.margin = this.margin;\n      }\n      // Устанавливаем размеры\n      for (let i = 0; i < this.numItemAll; ++i) {\n        this.el.slides[i].style.width = this.width.slide + 'px';\n        this.el.slides[i].style.marginRight = this.settings.margin + 'px';\n      }\n      // Удаляем активные слайды\n      for (let i = 0; i < this.numItemAll - 1; ++i) {\n        this.el.slides[i].classList.remove('active');\n      }\n      // Устанавливаем трек и назначаем активные слайды\n      if (this.settings.loop) {\n        this.transform = this.numItemReal * (this.width.slide + this.settings.margin);\n      } else {\n        this.transform = 0;\n      }\n      // Устанавливаем активные слайды\n      this.addActiveClass(this.itemActive);\n      // Вычисляем количество дотов\n      this.numDot = Math.ceil(this.numItemReal / this.settings.items);\n    },\n    // Установка активнго слайда\n    addActiveClass(value) {\n      if (this.settings.loop) {\n        value += this.numItemReal;\n      }\n      let superClass = value + Math.floor(this.settings.items / 2);\n      this.el.slides[superClass].classList.add('super');\n      for (let i = 0; i < this.settings.items; ++i) {\n        this.el.slides[value].classList.add('active');\n        ++value;\n      }\n    },\n    // Перемещение слайдера\n    setSlide(n, transition = true) {\n      // Удаляем активный слайд\n      for (let i = 0; i < this.numItemAll - 1; ++i) {\n        this.el.slides[i].classList.remove('active', 'super');\n      }\n      // Перелистывание слайдера\n      if (this.settings.loop) {\n        this.transform = (n + this.numItemReal - 1) * (this.width.slide + this.settings.margin);\n      } else {\n        this.transform = n * (this.width.slide + this.settings.margin);\n      }\n      this.transform += this.width.slide + this.settings.margin;\n      // Отключение анимации\n      if (!transition) {\n        this.settings.speed = 0;\n      } else {\n        this.settings.speed = this.speed;\n      }\n      if (this.settings.loop) {\n        if (n < 0) {\n          this.itemActive = this.numItemReal - 1;\n          setTimeout(() => {\n            this.setSlide(this.itemActive, false);\n          }, this.speed);\n        } else if (n >= this.numItemReal) {\n          this.itemActive = 0;\n          setTimeout(() => {\n            this.setSlide(0, false);\n          }, this.speed);\n        } else {\n          this.itemActive = n;\n        }\n        this.addActiveClass(this.itemActive);\n      } else {\n        if (n < 0) {\n          this.itemActive = 0;\n        } else if (n >= this.numItemReal - this.settings.items) {\n          this.itemActive = this.numItemReal - this.settings.items;\n        } else {\n          this.itemActive = n;\n        }\n        this.transform = this.itemActive * (this.width.slide + this.settings.margin);\n        this.addActiveClass(this.itemActive);\n      }\n    },\n    // Следующий слайдер\n    nextSlide() {\n      this.setSlide(this.itemActive + this.settings.offset);\n    },\n    // Предидущий слайдер\n    prevSlide() {\n      this.setSlide(this.itemActive - this.settings.offset);\n    },\n    // Переключение дотами\n    setDot(n) {\n      if (this.settings.loop) {\n        this.setSlide((n - 1) * this.settings.items);\n      } else {\n        if (n == this.numDot) {\n          let remainder = this.numItemReal % this.settings.items;\n          if (remainder == 0) {\n            this.setSlide((n - 1) * this.settings.items);\n          } else {\n            this.setSlide(this.numItemReal - this.settings.items);\n          }\n        } else {\n          this.setSlide((n - 1) * this.settings.items);\n        }\n      }\n    },\n    // Действия мыши\n    handleMouseDown(e) {\n      if (!e.touches) {\n        e.preventDefault();\n      }\n      this.mouseDown = true;\n      this.dragStartX = 'ontouchstart' in window ? e.touches[0].clientX : e.clientX;\n      this.dragStartY = 'ontouchstart' in window ? e.touches[0].clientY : e.clientY;\n    },\n    handleMouseMove(e) {\n      let positionX = 'ontouchstart' in window ? e.touches[0].clientX : e.clientX;\n      let positionY = 'ontouchstart' in window ? e.touches[0].clientY : e.clientY;\n      let dragDistanceX = Math.abs(positionX - this.dragStartX);\n      let dragDistanceY = Math.abs(positionY - this.dragStartY);\n      if (dragDistanceX > 3 * dragDistanceY) {\n        this.dragDistance = positionX - this.dragStartX;\n        this.disableScroll();\n      }\n    },\n    handleMouseUp() {\n      this.mouseDown = false;\n      this.enableScroll();\n    },\n    disableScroll() {\n      document.ontouchmove = function (e) {\n        e.preventDefault();\n      };\n    },\n    enableScroll() {\n      document.ontouchmove = function (e) {\n        return true;\n      };\n    }\n  },\n  computed: {\n    documentWidth: function () {\n      return this.width.document;\n    }\n  },\n  watch: {\n    documentWidth() {\n      this.reload();\n    },\n    dragDistance() {\n      if (!this.mouseDown) {\n        return;\n      }\n      if (this.dragDistance > this.swipeDistance) {\n        this.prevSlide();\n        this.handleMouseUp();\n      }\n      if (this.dragDistance < -1 * this.swipeDistance) {\n        this.nextSlide();\n        this.handleMouseUp();\n      }\n    }\n  },\n  updated: function () {\n    this.$nextTick(function () {\n      // Вычисляем активный дот\n      if (this.settings.loop) {\n        this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1);\n      } else {\n        let remainder = this.numItemReal % this.settings.items;\n        if (remainder == 0) {\n          this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1);\n        } else {\n          if (this.itemActive >= this.numItemReal - this.settings.items) {\n            this.numDotActive = this.numDot;\n          } else {\n            this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1);\n          }\n        }\n      }\n      // Переключение соседними слайдами\n      if (this.sibling) {\n        this.el.activeItem = this.$el.getElementsByClassName('v_slider__track')[0];\n        for (let i = 0; i < this.el.activeItem.children.length; ++i) {\n          this.el.activeItem.children[i].removeEventListener('click', this.nextSlide);\n          this.el.activeItem.children[i].removeEventListener('click', this.prevSlide);\n        }\n        this.el.activeItem = this.el.activeItem.getElementsByClassName('super')[0];\n        this.el.activeItem.nextElementSibling.addEventListener('click', this.nextSlide);\n        this.el.activeItem.previousElementSibling.addEventListener('click', this.prevSlide);\n      }\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","items","type","Number","default","margin","nav","Boolean","dots","loop","prevNav","String","nextNav","speed","timing","offset","sibling","responsive","Object","data","el","track","slides","width","document","container","slide","itemActive","numItemReal","numItemAll","breakpoints","numDot","numDotActive","transform","settings","mouseDown","swipeDistance","dragDistance","mounted","$nextTick","list","$refs","children","length","i","classList","add","lastSlide","getElementsByClassName","clone","cloneNode","insertBefore","nextSibling","window","addEventListener","getWidthDocument","handleMouseDown","handleMouseUp","handleMouseMove","beforeDestroy","removeEventListener","methods","innerWidth","documentElement","clientWidth","body","getWidth","reload","keys","forEach","key","style","marginRight","remove","addActiveClass","Math","ceil","value","superClass","floor","setSlide","n","transition","setTimeout","nextSlide","prevSlide","setDot","remainder","e","touches","preventDefault","dragStartX","clientX","dragStartY","clientY","positionX","positionY","dragDistanceX","abs","dragDistanceY","disableScroll","enableScroll","ontouchmove","computed","documentWidth","watch","updated","activeItem","$el","nextElementSibling","previousElementSibling"],"sourceRoot":"","sources":["C:\\Users\\Anton\\Desktop\\AntonAnyfriev\\kubsu\\src\\components\\Rewiews.vue"],"sourcesContent":["<template>\r\n  <div class=\"v_slider\">\r\n    <div class=\"v_slider__list\" ref=\"list\">\r\n      <div class=\"v_slider__track\" ref=\"track\" :style=\"{width: width.track + 'px', transform: 'translate(-' + transform + 'px)', transition: 'transform ' + settings.timing + ' ' + settings.speed + 'ms'}\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n    <ul v-if=\"dots\" class=\"v_slider__dots\">\r\n\r\n      <li v-for=\"n in numDot\" @click=\"setDot(n)\" :class=\"{'active': n == numDotActive}\">\r\n        <span></span>\r\n      </li>\r\n    </ul>\r\n\r\n    <button v-if=\"nav\" class=\"v_slider__prev\" v-html=\"prevNav\" @click=\"prevSlide\"></button>\r\n    <button v-if=\"nav\" class=\"v_slider__next\" v-html=\"nextNav\" @click=\"nextSlide\"></button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'slider',\r\n  props: {\r\n    // Количество слайдов на странице\r\n    items: {\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    // Отступы\r\n    margin: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    // Навигация\r\n    nav: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // Точечная навигация\r\n    dots: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // Перемотка\r\n    loop: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // Кнопка назад\r\n    prevNav: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // Кнопка веред\r\n    nextNav: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // Скорость перелистывания (мс)\r\n    speed: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    // Анимация перехода (linear, ease-in, ease-out, ease-in-out)\r\n    timing: {\r\n      type: String,\r\n      default: 'ease'\r\n    },\r\n    // Количество смещаемых слайдов\r\n    offset: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    // Переключение слайдов соседними блоками\r\n    sibling: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // Адаптивность\r\n    responsive: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      el: {\r\n        track: null,\r\n        slides: null,\r\n      },\r\n      width: {\r\n        document: 0,\r\n        container: 0,\r\n        slide: 0,\r\n        track: 0\r\n      },\r\n      // Первый слайд\r\n      itemActive: 0,\r\n      // Общее количество реальных слайдов\r\n      numItemReal: 0,\r\n      // Общее количество слайдов с клонами\r\n      numItemAll: 0,\r\n      // Список медиа запросов\r\n      breakpoints: [],\r\n      // Количество\r\n      numDot: 0,\r\n      // Активный дот\r\n      numDotActive: 0,\r\n      // Сдвиг по оси Y\r\n      transform: 0,\r\n      // Свойства слайдера\r\n      settings: {\r\n        items: this.items,\r\n        margin: this.margin,\r\n        nav: this.nav,\r\n        dots: this.dots,\r\n        loop: this.loop,\r\n        prevNav: this.prevNav,\r\n        nextNav: this.nextNav,\r\n        speed: this.speed,\r\n        timing: this.timing,\r\n        offset: this.offset,\r\n        responsive: this.responsive\r\n      },\r\n      // Флаг назатия мыши\r\n      mouseDown: false,\r\n\r\n      // Дистанция для свайпа\r\n      swipeDistance: 50,\r\n      // Дистанция перемещения курсора\r\n      dragDistance: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$nextTick(function () {\r\n      // Объект контейнера\r\n      this.el.list = this.$refs.list\r\n      // Объект трека\r\n      this.el.track = this.$refs.track\r\n\r\n      // Объекты слайдов\r\n      this.el.slides = this.el.track.children\r\n      // Вычисление количества слайдов\r\n      this.numItemReal = this.el.slides.length\r\n      // Присваиваем класс слайдам\r\n      for (let i = 0; i < this.numItemReal; ++i) {\r\n        this.el.slides[i].classList.add('v_slider__item')\r\n      }\r\n      // Добавляем клоны\r\n      if (this.settings.loop) {\r\n        let lastSlide = this.el.track.getElementsByClassName('v_slider__item')\r\n        for (let i = 0; i < this.numItemReal; ++i) {\r\n          let clone = lastSlide[i].cloneNode(true)\r\n          clone.classList.add('cloned')\r\n          this.el.track.insertBefore(clone, this.el.slides[this.numItemReal - 1 + i].nextSibling)\r\n        }\r\n        for (let i = this.numItemReal; i > 0; --i) {\r\n          let clone = lastSlide[this.numItemReal - 1].cloneNode(true)\r\n          clone.classList.add('cloned')\r\n          this.el.track.insertBefore(clone, this.el.slides[0])\r\n        }\r\n      }\r\n      // Вычисляем общее количество слайдов\r\n      if (this.settings.loop) {\r\n        this.numItemAll = this.numItemReal * 3\r\n      } else {\r\n        this.numItemAll = this.numItemReal\r\n      }\r\n      // Обновление при изменении экрана\r\n      window.addEventListener('resize', this.getWidthDocument)\r\n      // Вешаем обработчиски событий на действия мыши\r\n      if ('ontouchstart' in window) {\r\n        this.el.track.addEventListener('touchstart', this.handleMouseDown)\r\n        this.el.track.addEventListener('touchend', this.handleMouseUp)\r\n        this.el.track.addEventListener('touchmove', this.handleMouseMove)\r\n      } else {\r\n        this.el.track.addEventListener('mousedown', this.handleMouseDown)\r\n        this.el.track.addEventListener('mouseup', this.handleMouseUp)\r\n        this.el.track.addEventListener('mousemove', this.handleMouseMove)\r\n      }\r\n      // Вычисляем ширину окна\r\n      this.getWidthDocument()\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.getWidthDocument)\r\n    if ('ontouchstart' in window) {\r\n      this.el.track.removeEventListener('touchstart', this.handleMouseDown)\r\n      this.el.track.removeEventListener('touchend', this.handleMouseUp)\r\n      this.el.track.removeEventListener('touchmove', this.handleMouseMove)\r\n    } else {\r\n      this.el.track.removeEventListener('mousedown', this.handleMouseDown)\r\n      this.el.track.removeEventListener('mouseup', this.handleMouseUp)\r\n      this.el.track.removeEventListener('mousemove', this.handleMouseMove)\r\n    }\r\n  },\r\n  methods: {\r\n    // Размер окна браузера\r\n    getWidthDocument () {\r\n      this.width.document = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\r\n    },\r\n    // Размеры слйдов и трека\r\n    getWidth () {\r\n      this.width.container = this.el.list.clientWidth\r\n      if(this.settings.items == 1) {\r\n        this.width.slide = this.width.container\r\n        this.width.track = this.width.container * this.numItemAll\r\n      } else {\r\n        this.width.slide = (this.width.container / this.settings.items) - ((this.settings.items - 1) * (this.settings.margin) / this.settings.items),\r\n            this.width.track = (this.width.container + this.settings.margin) * this.numItemAll\r\n      }\r\n    },\r\n    reload () {\r\n      // вычисляем брейкпоинты\r\n      if(this.responsive){\r\n        this.breakpoints = Object.keys(this.responsive)\r\n      }\r\n      // Устанавливаем свойства при отзывчивости\r\n      if(this.breakpoints){\r\n        this.breakpoints.forEach((width) => {\r\n          if(width <= this.width.document){\r\n            for (let key in this.responsive[width]) {\r\n              this.settings[key] = this.responsive[width][key]\r\n            }\r\n          }\r\n        })\r\n      }\r\n      // Вычисляем размеры\r\n      this.getWidth()\r\n      // Вычисляем отступы\r\n      if(this.settings.items == 1) {\r\n        this.settings.margin = 0\r\n      } else{\r\n        this.settings.margin = this.margin\r\n      }\r\n      // Устанавливаем размеры\r\n      for (let i = 0; i < this.numItemAll; ++i) {\r\n        this.el.slides[i].style.width = this.width.slide + 'px'\r\n        this.el.slides[i].style.marginRight = this.settings.margin + 'px'\r\n      }\r\n      // Удаляем активные слайды\r\n      for (let i = 0; i < this.numItemAll - 1; ++i) {\r\n        this.el.slides[i].classList.remove('active')\r\n      }\r\n      // Устанавливаем трек и назначаем активные слайды\r\n      if (this.settings.loop) {\r\n        this.transform = this.numItemReal * (this.width.slide + this.settings.margin)\r\n      } else {\r\n        this.transform = 0\r\n      }\r\n      // Устанавливаем активные слайды\r\n      this.addActiveClass(this.itemActive)\r\n      // Вычисляем количество дотов\r\n      this.numDot = Math.ceil(this.numItemReal / this.settings.items)\r\n    },\r\n    // Установка активнго слайда\r\n    addActiveClass (value) {\r\n      if (this.settings.loop) {\r\n        value += this.numItemReal\r\n      }\r\n      let superClass = value + Math.floor(((this.settings.items / 2)))\r\n      this.el.slides[superClass].classList.add('super')\r\n      for (let i = 0; i < this.settings.items; ++i) {\r\n        this.el.slides[value].classList.add('active')\r\n        ++value\r\n      }\r\n    },\r\n    // Перемещение слайдера\r\n    setSlide (n, transition = true) {\r\n      // Удаляем активный слайд\r\n      for (let i = 0; i < this.numItemAll - 1; ++i) {\r\n        this.el.slides[i].classList.remove('active', 'super')\r\n      }\r\n      // Перелистывание слайдера\r\n      if (this.settings.loop) {\r\n        this.transform = (n + this.numItemReal - 1) * (this.width.slide + this.settings.margin)\r\n      } else {\r\n        this.transform = n * (this.width.slide + this.settings.margin)\r\n      }\r\n      this.transform += (this.width.slide + this.settings.margin)\r\n      // Отключение анимации\r\n      if (!transition) {\r\n        this.settings.speed = 0\r\n      } else {\r\n        this.settings.speed = this.speed\r\n      }\r\n      if (this.settings.loop) {\r\n        if (n < 0) {\r\n          this.itemActive = this.numItemReal - 1\r\n          setTimeout(() => {\r\n            this.setSlide(this.itemActive, false)\r\n          }, this.speed)\r\n        }\r\n        else if (n >= this.numItemReal) {\r\n          this.itemActive = 0\r\n          setTimeout(() => {\r\n            this.setSlide(0, false)\r\n          }, this.speed)\r\n        } else {\r\n          this.itemActive = n\r\n        }\r\n        this.addActiveClass(this.itemActive)\r\n      } else {\r\n        if (n < 0) {\r\n          this.itemActive = 0\r\n        } else if (n >= this.numItemReal - this.settings.items) {\r\n          this.itemActive = this.numItemReal - this.settings.items\r\n        } else {\r\n          this.itemActive = n\r\n        }\r\n        this.transform = this.itemActive * (this.width.slide + this.settings.margin)\r\n        this.addActiveClass(this.itemActive)\r\n      }\r\n    },\r\n    // Следующий слайдер\r\n    nextSlide () {\r\n      this.setSlide(this.itemActive + this.settings.offset)\r\n    },\r\n    // Предидущий слайдер\r\n    prevSlide () {\r\n      this.setSlide(this.itemActive - this.settings.offset)\r\n    },\r\n    // Переключение дотами\r\n    setDot(n) {\r\n      if (this.settings.loop) {\r\n        this.setSlide((n - 1) * (this.settings.items))\r\n      } else {\r\n        if(n == this.numDot) {\r\n          let remainder = this.numItemReal % this.settings.items\r\n          if(remainder == 0) {\r\n            this.setSlide((n - 1) * (this.settings.items))\r\n          } else {\r\n            this.setSlide(this.numItemReal - this.settings.items)\r\n          }\r\n        } else {\r\n          this.setSlide((n - 1) * (this.settings.items))\r\n        }\r\n      }\r\n    },\r\n    // Действия мыши\r\n    handleMouseDown (e) {\r\n      if (!e.touches) {\r\n        e.preventDefault()\r\n      }\r\n      this.mouseDown = true\r\n      this.dragStartX = ('ontouchstart' in window) ? e.touches[0].clientX : e.clientX\r\n      this.dragStartY = ('ontouchstart' in window) ? e.touches[0].clientY : e.clientY\r\n    },\r\n    handleMouseMove (e) {\r\n      let positionX = ('ontouchstart' in window) ? e.touches[0].clientX : e.clientX\r\n      let positionY = ('ontouchstart' in window) ? e.touches[0].clientY : e.clientY\r\n      let dragDistanceX = Math.abs(positionX - this.dragStartX)\r\n      let dragDistanceY = Math.abs(positionY - this.dragStartY)\r\n      if (dragDistanceX > 3 * dragDistanceY) {\r\n        this.dragDistance = positionX - this.dragStartX\r\n        this.disableScroll()\r\n      }\r\n    },\r\n    handleMouseUp () {\r\n      this.mouseDown = false\r\n      this.enableScroll()\r\n    },\r\n    disableScroll () {\r\n      document.ontouchmove = function (e) {\r\n        e.preventDefault()\r\n      }\r\n    },\r\n    enableScroll () {\r\n      document.ontouchmove = function (e) {\r\n        return true\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    documentWidth: function () {\r\n      return this.width.document\r\n    }\r\n  },\r\n  watch: {\r\n    documentWidth () {\r\n      this.reload()\r\n    },\r\n    dragDistance () {\r\n      if (!this.mouseDown) {\r\n        return\r\n      }\r\n      if (this.dragDistance > this.swipeDistance) {\r\n        this.prevSlide()\r\n        this.handleMouseUp()\r\n      }\r\n      if (this.dragDistance < -1 * this.swipeDistance) {\r\n        this.nextSlide()\r\n        this.handleMouseUp()\r\n      }\r\n    }\r\n  },\r\n  updated: function () {\r\n    this.$nextTick(function () {\r\n      // Вычисляем активный дот\r\n      if (this.settings.loop) {\r\n        this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1)\r\n      } else {\r\n        let remainder = this.numItemReal % this.settings.items\r\n        if(remainder == 0) {\r\n          this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1)\r\n        } else {\r\n          if(this.itemActive >= this.numItemReal - this.settings.items) {\r\n            this.numDotActive = this.numDot\r\n          } else {\r\n            this.numDotActive = Math.ceil(this.itemActive / this.settings.items + 0.1)\r\n          }\r\n        }\r\n      }\r\n      // Переключение соседними слайдами\r\n      if(this.sibling) {\r\n        this.el.activeItem = this.$el.getElementsByClassName('v_slider__track')[0]\r\n        for (let i = 0; i < this.el.activeItem.children.length; ++i) {\r\n          this.el.activeItem.children[i].removeEventListener('click', this.nextSlide)\r\n          this.el.activeItem.children[i].removeEventListener('click', this.prevSlide)\r\n        }\r\n        this.el.activeItem = this.el.activeItem.getElementsByClassName('super')[0]\r\n        this.el.activeItem.nextElementSibling.addEventListener('click', this.nextSlide)\r\n        this.el.activeItem.previousElementSibling.addEventListener('click', this.prevSlide)\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.v_slider { overflow-x: hidden; text-align: center; }\r\n.v_slider__list { width: 100%; min-height: 1px; float: left; display: block; position: relative; margin-bottom: 40px; }\r\n.v_slider__track { position: relative; -ms-touch-action: pan-Y; -moz-backface-visibility: hidden; }\r\n.v_slider__track:after { content:\"\"; display: block; clear: both; }\r\n.v_slider__item { min-height: 1px; float: left; -webkit-backface-visibility: hidden; -webkit-touch-callout: none; }\r\n.v_slider__item.clone { z-index: 2; }\r\n.v_slider__dots { width: 100%; float: left; text-align: center; margin-bottom: 20px; }\r\n.v_slider__dots li { padding: 8px; display: inline-block; cursor: pointer; }\r\n.v_slider__dots li span { width: 8px; height: 8px; background: #dde2e6; float: left;  border-radius: 50%; }\r\n.v_slider__dots li span:hover { background: #fac301; }\r\n.v_slider__dots li.active span { background: #ff3f4d; }\r\n\r\n.v_slider__prev,\r\n.v_slider__next { outline: none; background:transparent; padding: 10px 15px; border:1px solid #ff3f4d; color:#ff3f4d; font-size: 20px; opacity: 0.9; }\r\n.v_slider__prev:hover,\r\n.v_slider__next:hover { border-color: #04a0c5; color:#04a0c5; cursor: pointer; }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}